import { mdiFolderOutline } from '@mdi/js';
import Icon from '@mdi/react';
import { useEffect, useState } from 'react';
import '../Style/Header.css';

export default function Header(){


    const[name , setName] = useState("");

    useEffect(()=>{
        getUserName();
    },[]);

    async function getUserName(){
        let response = await fetch("http://localhost:8080/WorkDrive/RenderUserMail" , {method: "GET",
        credentials: "include"});
        let data = await response.json();
        let userMail = data.message;
        console.log(userMail);
        setName(userMail.split("")[0].toUpperCase());
    }

    return(
        <>
            <div className="headerParent">
                <div className="header">
                    <div className="logo-image">
                        <svg height="30px" aria-label="Zoho WorkDrive" datasvgname="wd_workdrive" viewBox="0 0 24 24" id="ember8" className="zwd-icon-24 zwd-dark-grey ember-view">
                            <path d="M21.2062 22H16.6624L16.6547 22L16.6468 22H7.02891C6.98027 22 6.93281 21.9951 6.88699 21.9858C6.56624 21.9209 6.32578 21.6401 6.32578 21.3023L6.32581 21.2963V19.7232C6.32581 18.9953 6.54612 18.2953 6.96565 17.6976C7.38518 17.1 7.96877 16.6511 8.65784 16.4L9.26336 16.1773C8.95723 15.8139 8.77271 15.3464 8.77271 14.8372C8.77271 13.6837 9.71958 12.7442 10.8821 12.7442C12.0446 12.7442 12.9915 13.6837 12.9915 14.8372C12.9915 14.8499 12.9913 14.8626 12.9911 14.8753C13.1503 14.7878 13.3171 14.712 13.4906 14.6488L13.836 14.5219C13.4815 14.1305 13.2656 13.6131 13.2656 13.0465C13.2656 11.8279 14.2641 10.8372 15.4922 10.8372C16.7203 10.8372 17.7188 11.8279 17.7188 13.0465C17.7188 13.0782 17.7181 13.1098 17.7167 13.1412C17.8505 13.0704 17.9897 13.0085 18.1336 12.9558L18.626 12.7749C18.2367 12.3661 17.9977 11.8148 17.9977 11.2092C17.9977 9.95105 19.0289 8.9278 20.2969 8.9278C21.5297 8.9278 22.5387 9.89503 22.5938 11.105V7.09766C22.5938 6.3372 21.9703 5.72092 21.2062 5.72092H12.2719C11.6742 5.72092 11.0789 5.52557 10.6008 5.16976L8.57344 3.66744C8.33437 3.49069 8.04141 3.39302 7.74375 3.39302H2.79375C2.02969 3.39535 1.40625 4.01395 1.40625 4.77209V19.2279C1.40625 19.9883 2.02969 20.6046 2.79375 20.6046H4.19297C4.58203 20.6046 4.89609 20.9162 4.89609 21.3023C4.89609 21.6883 4.58203 22 4.19297 22H2.79375C1.25391 22 0 20.7558 0 19.2279V4.77209C0 3.24418 1.25391 2 2.79375 2H7.74375C8.34141 2 8.93672 2.19535 9.41484 2.55116L11.4422 4.05348C11.6813 4.23023 11.9742 4.3279 12.2719 4.3279H21.2062C22.7461 4.3279 24 5.57209 24 7.09999V19.2302C24 20.7558 22.7461 22 21.2062 22ZM22.5938 11.3132V19.2279C22.5938 19.986 21.9727 20.6046 21.2062 20.6046H17.3601V16.0651C17.3601 15.2651 17.8687 14.5419 18.6234 14.2651L21.0726 13.3651C21.1091 13.3516 21.1437 13.3354 21.1765 13.3168C21.9785 12.9856 22.5526 12.216 22.5938 11.3132ZM15.9515 16.0628V20.6046H12.5672V17.972C12.5672 17.079 13.1344 16.2697 13.9804 15.9581L16.068 15.1915C15.9909 15.4729 15.9515 15.7652 15.9515 16.0628ZM15.7757 13.8103C16.0887 13.6956 16.3125 13.3965 16.3125 13.0465C16.3125 12.5977 15.9445 12.2325 15.4922 12.2325C15.0398 12.2325 14.6719 12.5977 14.6719 13.0465C14.6719 13.4953 15.0398 13.8604 15.4922 13.8604C15.5808 13.8604 15.6662 13.8464 15.7462 13.8205C15.756 13.8169 15.7658 13.8135 15.7757 13.8103ZM9.14768 17.7093L11.3213 16.9099C11.2137 17.2508 11.1586 17.6079 11.1586 17.972V20.6046H7.7344V19.7232C7.7344 18.8302 8.30159 18.0209 9.14768 17.7093ZM10.179 14.8372C10.179 14.4535 10.4954 14.1395 10.8821 14.1395C11.2688 14.1395 11.5852 14.4535 11.5852 14.8372C11.5852 15.2209 11.2688 15.5349 10.8821 15.5349C10.4954 15.5349 10.179 15.2209 10.179 14.8372ZM19.4039 11.2069C19.4039 10.7185 19.8047 10.3208 20.2969 10.3208C20.7891 10.3208 21.1899 10.7185 21.1899 11.2069C21.1899 11.6952 20.7891 12.0929 20.2969 12.0929C19.8047 12.0929 19.4039 11.6952 19.4039 11.2069Z" fill="#226DB4" opacity="" stroke="" transform="" fillRule="evenodd" fillOpacity="" clipRule=""></path>
                        </svg>
                        <h3>SmartDrive</h3>
                    </div>
                    <div className="visiting-option">
                        <Icon path={mdiFolderOutline} size={1} />
                        <p>My Folder</p>
                    </div>
                    <div className="userName">
                        <h3>{name}</h3>
                    </div>
                </div>
            </div>
        </>
    );

}